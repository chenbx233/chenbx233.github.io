<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>404</title>
    <!-- 阿里云播放器样式 -->
    <link rel="stylesheet" href="https://g.alicdn.com/de/prismplayer/2.9.0/skins/default/aliplayer-min.css">
    <style>
        /* 全局样式重置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* 404页面整体布局：全屏居中 */
        body {
            background-color: #000; /* 黑色背景更贴合视频404风格 */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            font-family: sans-serif;
        }

        /* 404标题样式 */
        .error-title {
            color: #fff;
            font-size: clamp(24px, 5vw, 48px); /* 自适应字体大小 */
            margin-bottom: 15px;
            text-align: center;
        }

        .error-desc {
            color: #999;
            font-size: clamp(14px, 2vw, 18px);
            margin-bottom: 30px;
            text-align: center;
        }

        /* 核心：1:1正方形容器（关键实现） */
        .player-wrapper {
            width: 100%;
            max-width: 600px; /* 限制最大尺寸，避免大屏变形 */
            aspect-ratio: 1/1; /* 强制1:1比例，所有设备通用 */
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
        }

        /* 播放器填充整个1:1容器 */
        #player-con {
            position: absolute;
            top: 0;
            left: 0;
            width: 100% !important;
            height: 100% !important;
        }

        /* 返回首页按钮（可选） */
        .back-btn {
            margin-top: 30px;
            padding: 10px 25px;
            background-color: #fff;
            color: #000;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .back-btn:hover {
            background-color: #eee;
        }
    </style>
</head>
<body>
    <!-- 404页面文案 -->
    <h1 class="error-title">404 - 页面走丢了</h1>
    <p class="error-desc">你访问的页面不存在，不如看看这个视频吧～</p>

    <!-- 1:1正方形播放器容器 -->
    <div class="player-wrapper">
        <div class="prism-player" id="player-con"></div>
    </div>

    <!-- 可选：返回首页按钮（替换#为你的首页地址） -->
    <button class="back-btn" onclick="window.location.href='/'">返回首页</button>

    <!-- 阿里云播放器脚本 -->
    <script type="text/javascript" charset="utf-8" src="https://g.alicdn.com/de/prismplayer/2.9.0/aliplayer-min.js"></script>
    <script>
        // 页面加载完成后初始化播放器
        document.addEventListener('DOMContentLoaded', function() {
            // 检测播放器是否加载成功
            if (typeof Aliplayer === 'undefined') {
                console.error('阿里云播放器加载失败');
                return;
            }

            // 初始化1:1比例的播放器
            var player = new Aliplayer({
                "id": "player-con",
                "source": "daisuke.mp4", // 确保文件与HTML同目录，或替换为完整URL
                "width": "100%",
                "height": "100%",
                "autoplay": true,         // 自动播放
                "muted": true,            // 静音（必加：解决浏览器自动播放限制）
                "loop": true,             // 循环播放（404页面建议循环）
                "isLive": false,
                "rePlay": false,
                "playsinline": true,      // 移动端内联播放，不跳全屏
                "preload": "auto",        // 预加载
                "controlBarVisibility": "hover", // 鼠标悬停显示控制栏
                "useH5Prism": true,       // 强制H5播放器
                "language": "zh-cn",      // 中文控件
                "volume": 0,              // 静音（双重保障）
                "enablePlaybackSpeed": false, // 404页面可关闭倍速
                "hideControlBar": false   // 保持控制栏（可选：true则隐藏）
            }, function (player) {
                console.log("播放器初始化成功");
                // 确保自动播放（兼容部分浏览器首次加载不播放的问题）
                player.play();
            });

            // 错误监听：播放失败时提示
            player.on('error', function (err) {
                console.error("播放错误：", err);
                alert('视频播放失败，请检查文件路径是否正确（daisuke.mp4）');
            });

            // 强制循环播放
            player.on('ended', function () {
                player.play(); // 播放结束后重新播放
            });

            // 页面关闭时销毁播放器
            window.addEventListener('beforeunload', function () {
                player.dispose();
            });
        });
    </script>
</body>
</html>
